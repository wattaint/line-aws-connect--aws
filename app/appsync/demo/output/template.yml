AppSyncDemoMutationAddEventResolver:
  Type: 'AWS::AppSync::Resolver'
  DependsOn:
    - AppSyncDemoSchema
  Properties:
    ApiId:
      'Fn::GetAtt': AppSyncDemoApi.ApiId
    TypeName: Mutation
    FieldName: addEvent
    DataSourceName:
      'Fn::GetAtt': AppSyncDemoEventDynamoDataSource.Name
    RequestMappingTemplate: |-
      {
        "version" : "2017-02-28",
        "operation" : "PutItem",
        "key" : {
            "userid": $util.dynamodb.toDynamoDBJson($ctx.args.input.id),
        },
        "attributeValues" : $util.dynamodb.toMapValuesJson({"amount":$ctx.args.input.amount})
      }
    ResponseMappingTemplate: |-
      #set( $ctx.result.id = $ctx.result.userid )
      $util.toJson($ctx.result)
